webpackJsonp([1],{"0xDb":function(e,t,a){"use strict";t.splitKDA=function(e){if(e.match(/(\d+)-(\d+)-(\d+)/))return e.split("-");throw new Error("kda should be like “K-D-A”")},t.execKDA=function(e,t,a){return 0===parseInt(t)?parseInt(e)+parseInt(a):(parseInt(e)+parseInt(a))/parseInt(t)},t.doubleToPer=function(e){return e?(100*e).toFixed(1)+"%":"0"},t.getScript=function(e,t,a){a=a||function(){};var n=document.createElement("script");n.type="text/javascript",n.src=e,n.setAttribute("charset","UTF-8"),n.setAttribute("data-page",t),n.setAttribute("async","true"),n.onload=function(){document.head.removeChild(n),a(null)},n.onerror=function(e){a(e)},document.head.appendChild(n)},t.removeScript=function(e){var t=document.querySelector('[data-page="'+e+'"]');null!==t&&document.head.removeChild(t)},t.throttle=function(e,t,a){var n=null,o=new Date;return function(i,l){var r=this,s=arguments,d=new Date;clearTimeout(n),d-o>=a?(e.apply(r,s),o=d):n=setTimeout(function(){e.apply(r,s)},t)}},t.hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.obj2Array=function(e){var a=[];for(var n in e)if(t.hasOwnProperty(e,n)){var o=e[n];a.push(o)}return a},t.stringify=function(e){var a="";for(var n in e)t.hasOwnProperty(e,n)&&null!==e[n]&&void 0!==e[n]&&(a+=n+"="+e[n]+"&");return a.slice(0,-1)},t.getUrlParams=function(){return this.$route.query},t.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.slice(1).match(t);return null!=a?decodeURI(a[2]):null},t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.timeFormat=function(e,t){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds(),"D+":e.getDay()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in a)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return t},t.format=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",n=0;n<t;n++)e=a+e;return e.substr(-t)}},"2zsX":function(e,t,a){"use strict";function n(e){a("k0V1")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("T0Uq"),i=a.n(o);for(var l in o)"default"!==l&&function(e){a.d(t,e,function(){return o[e]})}(l);var r=a("XJcm"),s=a("VU/8"),d=n,c=s(i.a,r.a,!1,d,"data-v-545e5857",null);t.default=c.exports},ALjO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"add-instance-form",props:["addFormData"],data:function(){return{formLabelWidth:"80px"}},computed:{},methods:{closeTheModal:function(){this.$emit("closeTheModal")},addInstance:function(){this.$emit("addInstance")}}}},T0Uq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"instance-item",props:["title","status"],data:function(){return{}},computed:{isRedShadow:function(){return"running"!==this.status&&"idel"!==this.status}},methods:{deleteInstance:function(){this.$emit("deleteInstance")},goToInstance:function(){this.$emit("goToInstance")}}}},WWZR:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-instance-form"},[a("h1",[e._v("新建实例")]),e._v(" "),a("el-form",[a("el-form-item",{attrs:{label:"比赛","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择比赛"},model:{value:e.addFormData.game.value,callback:function(t){e.$set(e.addFormData.game,"value",t)},expression:"addFormData.game.value"}},e._l(e.addFormData.game.labels,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"比赛id","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addFormData.id,callback:function(t){e.$set(e.addFormData,"id",t)},expression:"addFormData.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"左队","label-width":e.formLabelWidth}},[a("el-select",{attrs:{filterable:"","allow-create":"",placeholder:"请选择左队"},model:{value:e.addFormData.leftTeamId,callback:function(t){e.$set(e.addFormData,"leftTeamId",t)},expression:"addFormData.leftTeamId"}},e._l(e.addFormData.teamName,function(e){return a("el-option",{key:e,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"右队","label-width":e.formLabelWidth}},[a("el-select",{attrs:{filterable:"","allow-create":"",placeholder:"请选择右队"},model:{value:e.addFormData.rightTeamId,callback:function(t){e.$set(e.addFormData,"rightTeamId",t)},expression:"addFormData.rightTeamId"}},e._l(e.addFormData.teamName,function(e){return a("el-option",{key:e,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"直播流","label-width":e.formLabelWidth}},[a("el-select",{attrs:{filterable:"","allow-create":"",placeholder:"请选择直播流"},model:{value:e.addFormData.liveStreaming.value,callback:function(t){e.$set(e.addFormData.liveStreaming,"value",t)},expression:"addFormData.liveStreaming.value"}},e._l(e.addFormData.liveStreaming.labels,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"当前局数","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addFormData.index,callback:function(t){e.$set(e.addFormData,"index",t)},expression:"addFormData.index"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.addInstance}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.closeTheModal}},[e._v("关闭")])],1)],1)],1)},o=[],i={render:n,staticRenderFns:o};t.a=i},XJcm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"instance-item",class:{redShadow:e.isRedShadow}},[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"desc"},[e._v("status: "+e._s(e.status))]),e._v(" "),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"success"},on:{click:e.goToInstance}},[e._v("进入")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.deleteInstance}},[e._v("删除")])],1)])},o=[],i={render:n,staticRenderFns:o};t.a=i},bdXS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-page",on:{click:e.blockClickEvent}},[a("div",{staticClass:"new-instance-btn-wrap"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addInstanceModalShow=!0}}},[e._v("新建实例")])],1),e._v(" "),a("div",{staticClass:"instances"},[e._l(e.instances,function(t,n){return e.instances.length>0?a("instance-item",{key:n,attrs:{status:t.status,title:t.game+t.id},on:{deleteInstance:function(a){e.deleteInstance(t.game,t.id)},goToInstance:function(a){e.getGames(t.game,t.id)}}}):e._e()}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gamesModalShow,expression:"gamesModalShow"}],staticClass:"games-modal",on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"game-list"},e._l(e.curGames,function(t,n){return a("div",{staticClass:"game-item",on:{click:function(a){e.goToInstance(e.curGameName,t)}}},[e._v("\n                    第"+e._s(e.numTch[n])+"局\n                ")])})),e._v(" "),a("div",{staticClass:"games-modal-btns"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.addGameItemModalShow=!0}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.gamesModalShow=!1}}},[e._v("关闭")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.addGameItemModalShow,expression:"addGameItemModalShow"}],staticClass:"add-game-item-modal"},[a("el-form",[a("el-form-item",{attrs:{label:"当前局数","label-width":"80px"}},[a("el-input",{model:{value:e.addFormData.index,callback:function(t){e.$set(e.addFormData,"index",t)},expression:"addFormData.index"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"左队","label-width":"80px"}},[a("el-select",{attrs:{filterable:"","allow-create":"",placeholder:"请选择左队"},model:{value:e.addFormData.leftTeamId,callback:function(t){e.$set(e.addFormData,"leftTeamId",t)},expression:"addFormData.leftTeamId"}},e._l(e.addFormData.teamName,function(e){return a("el-option",{key:e,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"右队","label-width":"80px"}},[a("el-select",{attrs:{filterable:"","allow-create":"",placeholder:"请选择右队"},model:{value:e.addFormData.rightTeamId,callback:function(t){e.$set(e.addFormData,"rightTeamId",t)},expression:"addFormData.rightTeamId"}},e._l(e.addFormData.teamName,function(e){return a("el-option",{key:e,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.addGameItem}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addGameItemModalShow=!1}}},[e._v("关闭")])],1)],1)],1)])],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.addInstanceModalShow,expression:"addInstanceModalShow"}],staticClass:"add-instance-modal",on:{click:function(e){e.stopPropagation()}}},[a("add-instance-form",{attrs:{addFormData:e.addFormData},on:{addInstance:e.addInstance,closeTheModal:e.closeTheModal}})],1)])},o=[],i={render:n,staticRenderFns:o};t.a=i},cgHf:function(e,t){},ij9N:function(e,t,a){"use strict";var n=a("0xDb"),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i="http://192.168.11.3:3004",l=o.default.getQueryString("r");if(!l){var r=window.location.origin+"/?r=local"+window.location.hash;window.location.href=r}"local"===l?i="http://192.168.15.7:8078":"root"===l?i="http://192.168.15.7:8077":"test"===l&&(i="http://192.168.11.3:3004"),t.DOMAIN=i,t.PLAYERS=i+"/admin/players/",t.HOME_PLAYERS=i+"/admin/home/players",t.HOME_GAMES=i+"/admin/home/games",t.PROCESS_LIST=i+"/admin/process/list",t.ADD_PROCESS=i+"/admin/process",t.STOP_PROCESS=i+"/admin/process/stop",t.DEL_PROCESS=i+"/admin/process/del",t.BP_LIST=i+"/admin/bp",t.SKILL_LIST=i+"/admin/home/skill",t.BUFF_LIST=i+"/admin/buff",t.ECONOMIC_DATA=i+"/admin/event/line",t.BP_STATUS=i+"/admin/bp/scene",t.EVENT_NEAR=i+"/admin/event/near",t.SET_LINE=i+"/admin/event/set/line",t.EVENT_LIST=i+"/admin/event/list",t.PLAYER_INFO=i+"/admin/players/baseInfo",t.BACKUP_STATUS=i+"/admin/sync/backup/status",t.OPEN_BACKUP=i+"/admin/sync/backup",t.STOP_BACKUP=i+"/admin/sync/backup/stop",t.SYNC_PROCESS=i+"/admin/sync"},k0V1:function(e,t){},neEy:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a("ij9N"),i=n(o),l=a("2zsX"),r=n(l),s=a("uO3e"),d=n(s);t.default={name:"home",components:{instanceItem:r.default,addInstanceForm:d.default},data:function(){return{numTch:["一","二","三","四","五","六","七","八","九"],instances:[],addInstanceModalShow:!1,gamesModalShow:!1,addGameItemModalShow:!1,curGames:[],curGameName:"",curGamesId:"",options:[],allTeamName:[],addFormData:{game:{value:"",labels:["kog","lol"]},teamName:[],leftTeamId:"",rightTeamId:"",liveStreaming:{value:"",labels:["1","2"]},id:"",index:1},gameItemNum:-1}},computed:{count:function(){return this.instances.length}},methods:{blockClickEvent:function(){this.gamesModalShow=!1},getProcessList:function(){var e=this;this.axios.get(i.default.PROCESS_LIST).then(function(t){e.instances=t.data.data}).catch(function(e){})},getHomePlayers:function(){var e=this;this.axios.get(i.default.HOME_PLAYERS).then(function(t){e.options=t.data.data,e.options.forEach(function(t){t.children.forEach(function(t){e.addFormData.teamName.push({label:t.label,value:t.value})})})}).catch(function(e){})},getGames:function(e,t){var a=this;this.axios.get(i.default.HOME_GAMES+"?id="+t+"&game="+e).then(function(n){a.curGames=n.data.data,a.curGameName=e,a.curGamesId=t,a.gamesModalShow=!0}).catch(function(e){})},addInstance:function(){this.addInstanceModalShow=!1;var e=this,t=this.addFormData,a=t.game.value,n=t.leftTeamId,o=t.rightTeamId,l={game:a,leftId:n,rightId:o,id:t.id+t.index,input:t.liveStreaming.value};this.axios.post(i.default.ADD_PROCESS,l).then(function(t){e.getProcessList()}).catch(function(e){})},goToInstance:function(e,t){this.$router.push({name:"instance",params:{game:e,id:t}})},closeTheModal:function(){this.addInstanceModalShow=!1},deleteInstance:function(e,t){var a=this;this.axios.get(i.default.DEL_PROCESS+"?game="+e+"&id="+t).then(function(e){a.getProcessList()}).catch(function(e){})},addGameItem:function(){var e=this;this.addGameItemModalShow=!1;var t=this.addFormData,a=t.index,n=t.leftTeamId,o=t.rightTeamId,l=this.curGameName,r=this.curGamesId,s=r.slice(0,-1),d=s+a,c=[{name:"name",playerId:"0",teamId:n},{name:"name",playerId:"0",teamId:n},{name:"name",playerId:"0",teamId:n},{name:"name",playerId:"0",teamId:n},{name:"name",playerId:"0",teamId:n}],u=[{name:"name",playerId:"0",teamId:o},{name:"name",playerId:"0",teamId:o},{name:"name",playerId:"0",teamId:o},{name:"name",playerId:"0",teamId:o},{name:"name",playerId:"0",teamId:o}],m={id:d,game:l,data:{left:c,right:u}};this.axios.post(i.default.PLAYERS,m).then(function(t){e.getGames(l,r)})}},mounted:function(){this.getProcessList(),this.getHomePlayers()}}},o0w7:function(e,t){},uO3e:function(e,t,a){"use strict";function n(e){a("o0w7")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("ALjO"),i=a.n(o);for(var l in o)"default"!==l&&function(e){a.d(t,e,function(){return o[e]})}(l);var r=a("WWZR"),s=a("VU/8"),d=n,c=s(i.a,r.a,!1,d,"data-v-4b85e476",null);t.default=c.exports},vkyI:function(e,t,a){"use strict";function n(e){a("cgHf")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("neEy"),i=a.n(o);for(var l in o)"default"!==l&&function(e){a.d(t,e,function(){return o[e]})}(l);var r=a("bdXS"),s=a("VU/8"),d=n,c=s(i.a,r.a,!1,d,"data-v-053e60b0",null);t.default=c.exports}});