webpackJsonp([4],{"0xDb":function(t,e,n){"use strict";e.splitKDA=function(t){if(t.match(/(\d+)-(\d+)-(\d+)/))return t.split("-");throw new Error("kda should be like “K-D-A”")},e.execKDA=function(t,e,n){return 0===parseInt(e)?parseInt(t)+parseInt(n):(parseInt(t)+parseInt(n))/parseInt(e)},e.doubleToPer=function(t){return t?(100*t).toFixed(1)+"%":"0"},e.getScript=function(t,e,n){n=n||function(){};var a=document.createElement("script");a.type="text/javascript",a.src=t,a.setAttribute("charset","UTF-8"),a.setAttribute("data-page",e),a.setAttribute("async","true"),a.onload=function(){document.head.removeChild(a),n(null)},a.onerror=function(t){n(t)},document.head.appendChild(a)},e.removeScript=function(t){var e=document.querySelector('[data-page="'+t+'"]');null!==e&&document.head.removeChild(e)},e.throttle=function(t,e,n){var a=null,i=new Date;return function(r,o){var s=this,l=arguments,c=new Date;clearTimeout(a),c-i>=n?(t.apply(s,l),i=c):a=setTimeout(function(){t.apply(s,l)},e)}},e.hasOwnProperty=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.obj2Array=function(t){var n=[];for(var a in t)if(e.hasOwnProperty(t,a)){var i=t[a];n.push(i)}return n},e.stringify=function(t){var n="";for(var a in t)e.hasOwnProperty(t,a)&&null!==t[a]&&void 0!==t[a]&&(n+=a+"="+t[a]+"&");return n.slice(0,-1)},e.getUrlParams=function(){return this.$route.query},e.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.slice(1).match(e);return null!=n?decodeURI(n[2]):null},e.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},e.timeFormat=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds(),"D+":t.getDay()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return e},e.format=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",a=0;a<e;a++)t=n+t;return t.substr(-e)}},"6sb0":function(t,e){},E6kn:function(t,e){},HVS2:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n("ij9N"),r=a(i),o=n("t9aS");a(o);e.default={name:"seat-selection",data:function(){return{timer:null,autoUpdate:!1,autoUpdateTime:2e3,leftTeam:[0,0,0,0,0],rightTeam:[0,0,0,0,0],options:[],leftTeamOptions:[],rightTeamOptions:[]}},computed:{game:function(){return this.$route.params.game},id:function(){return this.$route.params.id}},methods:{getLabelOfValue:function(t,e,n){var a="";return this.options.some(function(i){if(i.value===t)return i.children.some(function(t){if(t.value===e)return t.children.some(function(t){if(t.value===n)return a=t.label,!0}),!0}),!0}),a},submitSeatSel:function(){var t=this,e=this.id||1,n=this.game||"kog",a=this.leftTeam,i=this.rightTeam;this.leftTeamOptions.forEach(function(e,i){e.length>0&&(a[i]={name:t.getLabelOfValue(n,e[1],e[2]),playerId:e[2],teamId:e[1]})}),this.rightTeamOptions.forEach(function(e,a){e.length>0&&(i[a]={name:t.getLabelOfValue(n,e[1],e[2]),playerId:e[2],teamId:e[1]})});var o={id:e,game:n,data:{left:a,right:i}};this.axios.post(r.default.PLAYERS,o).then(function(t){})},handleChange:function(t){this.autoUpdate=!1},getHomePlayers:function(){var t=this;this.axios.get(r.default.HOME_PLAYERS).then(function(e){t.options=e.data.data})},getSeats:function(){this.leftTeamOptions=[],this.rightTeamOptions=[];var t=this,e=this.id,n=this.game||"kog";this.axios.get(r.default.PLAYERS+"?id="+e+"&game="+n).then(function(e){var n=e.data.data;n&&(t.leftTeam=n.left,t.rightTeam=n.right)}).catch(function(t){})}},mounted:function(){this.getHomePlayers(),this.getSeats()},watch:{autoUpdate:function(){var t=this;this.autoUpdate?this.timer=setInterval(function(){t.getSeats()},this.autoUpdateTime):(clearInterval(this.timer),this.timer=null)}},destroyed:function(){clearInterval(this.timer),this.timer=null}}},Jcel:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("0xDb"),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={name:"header",data:function(){return{isLocal:"local"===i.default.getQueryString("r")}},methods:{changeOrigin:function(){this.isLocal?window.location.href=window.location.href.replace("r=root","r=local"):window.location.href=window.location.href.replace("r=local","r=root")}}}},ZADj:function(t,e){},ZyEp:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"seat-selection-page"},[n("div",{staticClass:"main-box-header"},[n("div",{staticClass:"title"},[t._v("选座情况")]),t._v(" "),n("el-switch",{attrs:{"active-text":"自动刷新"},model:{value:t.autoUpdate,callback:function(e){t.autoUpdate=e},expression:"autoUpdate"}})],1),t._v(" "),n("div",{staticClass:"seats-wrap"},[n("div",{staticClass:"left-team"},t._l(t.leftTeam,function(e,a){return t.leftTeam.length>0?n("el-cascader",{key:e.value,staticClass:"player",attrs:{placeholder:e.name,"expand-trigger":"hover","show-all-levels":!1,options:t.options},on:{change:t.handleChange},model:{value:t.leftTeamOptions[a],callback:function(e){t.$set(t.leftTeamOptions,a,e)},expression:"leftTeamOptions[index]"}}):t._e()})),t._v(" "),n("div",{staticClass:"right-team"},t._l(t.rightTeam,function(e,a){return t.rightTeam.length>0?n("el-cascader",{key:e.value,staticClass:"player",attrs:{placeholder:e.name,"expand-trigger":"hover","show-all-levels":!1,options:t.options},on:{change:t.handleChange},model:{value:t.rightTeamOptions[a],callback:function(e){t.$set(t.rightTeamOptions,a,e)},expression:"rightTeamOptions[index]"}}):t._e()}))]),t._v(" "),n("div",{staticClass:"btn-wrap"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submitSeatSel}},[t._v("提交")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.getSeats}},[t._v("刷新")])],1)])},i=[],r={render:a,staticRenderFns:i};e.a=r},g6UE:function(t,e,n){"use strict";function a(t){n("E6kn"),n("ZADj")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("HVS2"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var s=n("ZyEp"),l=n("VU/8"),c=a,u=l(r.a,s.a,!1,c,"data-v-0010f198",null);e.default=u.exports},iBAt:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"common-header"},[n("router-link",{attrs:{to:"/home"}},[t._v("\n        OCR管理后台\n    ")]),t._v(" "),n("el-switch",{staticClass:"origin-box",staticStyle:{display:"inline-block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"本地","inactive-text":"远端"},on:{change:t.changeOrigin},model:{value:t.isLocal,callback:function(e){t.isLocal=e},expression:"isLocal"}})],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},ij9N:function(t,e,n){"use strict";var a=n("0xDb"),i=function(t){return t&&t.__esModule?t:{default:t}}(a),r="http://192.168.11.3:3004",o=i.default.getQueryString("r");if(!o){var s=window.location.origin+"/?r=local"+window.location.hash;window.location.href=s}"local"===o?r="http://192.168.15.7:8078":"root"===o?r="http://192.168.15.7:8077":"test"===o&&(r="http://192.168.11.3:3004"),e.DOMAIN=r,e.PLAYERS=r+"/admin/players/",e.HOME_PLAYERS=r+"/admin/home/players",e.HOME_GAMES=r+"/admin/home/games",e.PROCESS_LIST=r+"/admin/process/list",e.ADD_PROCESS=r+"/admin/process",e.STOP_PROCESS=r+"/admin/process/stop",e.DEL_PROCESS=r+"/admin/process/del",e.BP_LIST=r+"/admin/bp",e.SKILL_LIST=r+"/admin/home/skill",e.BUFF_LIST=r+"/admin/buff",e.ECONOMIC_DATA=r+"/admin/event/line",e.BP_STATUS=r+"/admin/bp/scene",e.EVENT_NEAR=r+"/admin/event/near",e.SET_LINE=r+"/admin/event/set/line",e.EVENT_LIST=r+"/admin/event/list",e.PLAYER_INFO=r+"/admin/players/baseInfo",e.BACKUP_STATUS=r+"/admin/sync/backup/status",e.OPEN_BACKUP=r+"/admin/sync/backup",e.STOP_BACKUP=r+"/admin/sync/backup/stop",e.SYNC_PROCESS=r+"/admin/sync"},t9aS:function(t,e,n){"use strict";function a(t){n("6sb0")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("Jcel"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);var s=n("iBAt"),l=n("VU/8"),c=a,u=l(r.a,s.a,!1,c,"data-v-f043049e",null);e.default=u.exports}});